{"ast":null,"code":"/**-----------------------------------------------------------------------------------------\n* Copyright © 2024 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, Inject, Optional, EventEmitter, isDevMode, Component, Input, Output, ViewChild, TemplateRef, NgModule } from '@angular/core';\nimport { siblingContainer, parents, addScroll, align, boundingOffset, offset, positionWithScroll, removeScroll, restrictToView, scrollPosition, getWindowViewPort } from '@progress/kendo-popup-common';\nimport * as i8 from '@progress/kendo-angular-common';\nimport { isDocumentAvailable, hasObservers, ResizeSensorComponent, ResizeSensorModule } from '@progress/kendo-angular-common';\nimport { fromEvent, merge, from } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport * as i1 from '@angular/animations';\nimport { style, animate } from '@angular/animations';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport * as i7 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @hidden\n */\nconst _c0 = [\"container\"];\nfunction PopupComponent_ng_template_4_Template(rf, ctx) {}\nconst _c1 = [\"*\"];\nconst eitherRect = (rect, offset) => {\n  if (!rect) {\n    return {\n      height: 0,\n      left: offset.left,\n      top: offset.top,\n      width: 0\n    };\n  }\n  return rect;\n};\n/**\n * @hidden\n */\nconst replaceOffset = (rect, offset) => {\n  if (!offset) {\n    return rect;\n  }\n  const result = {\n    height: rect.height,\n    left: offset.left,\n    top: offset.top,\n    width: rect.width\n  };\n  return result;\n};\n/**\n * @hidden\n */\nconst removeStackingOffset = (rect, stackingOffset) => {\n  if (!stackingOffset) {\n    return rect;\n  }\n  const result = {\n    height: rect.height,\n    left: rect.left - stackingOffset.left,\n    top: rect.top - stackingOffset.top,\n    width: rect.width\n  };\n  return result;\n};\n/**\n * @hidden\n */\nconst isDifferentOffset = (oldOffset, newOffset) => {\n  const {\n    left: oldLeft,\n    top: oldTop\n  } = oldOffset;\n  const {\n    left: newLeft,\n    top: newTop\n  } = newOffset;\n  return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\nconst isWindowAvailable = () => {\n  return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\nconst hasBoundingRect = elem => !!elem.getBoundingClientRect;\n/**\n * @hidden\n */\nconst OVERFLOW_REGEXP = /auto|scroll/;\nconst overflowElementStyle = element => {\n  return `${element.style.overflow}${element.style.overflowX}${element.style.overflowY}`;\n};\nconst overflowComputedStyle = element => {\n  const styles = window.getComputedStyle(element);\n  return `${styles.overflow}${styles.overflowX}${styles.overflowY}`;\n};\nconst overflowStyle = element => {\n  return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\nconst scrollableParents = element => {\n  const parentElements = [];\n  if (!isDocumentAvailable() || !isWindowAvailable()) {\n    return parentElements;\n  }\n  let parent = element.parentElement;\n  while (parent) {\n    if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n      parentElements.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  parentElements.push(window);\n  return parentElements;\n};\n/**\n * @hidden\n */\nconst FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction memoize(fun) {\n  let result;\n  let called = false;\n  return (...args) => {\n    if (called) {\n      return result;\n    }\n    result = fun(...args);\n    called = true;\n    return result;\n  };\n}\n/**\n * @hidden\n */\nconst hasRelativeStackingContext = memoize(() => {\n  if (!isDocumentAvailable() && document.body !== null) {\n    return false;\n  }\n  const top = 10;\n  const parent = document.createElement(\"div\");\n  parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n  const childElement = document.createElement(\"div\");\n  childElement.style.position = 'fixed';\n  childElement.style.top = `${top}px`;\n  childElement.textContent = 'child';\n  parent.appendChild(childElement);\n  document.body.appendChild(parent);\n  const isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n  document.body.removeChild(parent);\n  return isDifferent;\n});\n/**\n * @hidden\n */\nconst zIndex = (anchor, container) => {\n  if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n    return null;\n  }\n  const sibling = siblingContainer(anchor, container);\n  if (!sibling) {\n    return null;\n  }\n  const result = [anchor].concat(parents(anchor, sibling)).reduce((index, p) => {\n    const zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n    const current = parseInt(zIndexStyle, 10);\n    return current > index ? current : index;\n  }, 0);\n  return result ? result + 1 : null;\n};\n/**\n * @hidden\n */\nconst scaleRect = (rect, scale) => {\n  if (!rect || scale === 1) {\n    return rect;\n  }\n  return {\n    height: rect.height / scale,\n    left: rect.left / scale,\n    top: rect.top / scale,\n    width: rect.width / scale\n  };\n};\nconst STYLES = ['font-size', 'font-family', 'font-stretch', 'font-style', 'font-weight', 'line-height'];\n/**\n * @hidden\n */\nclass DOMService {\n  addOffset(current, addition) {\n    return {\n      left: current.left + addition.left,\n      top: current.top + addition.top\n    };\n  }\n  addScroll(rect, scroll) {\n    return addScroll(rect, scroll);\n  }\n  align(settings) {\n    return align(settings);\n  }\n  boundingOffset(el) {\n    return boundingOffset(el);\n  }\n  getFontStyles(el) {\n    const window = this.getWindow();\n    if (!window || !el) {\n      return [];\n    }\n    const computedStyles = window.getComputedStyle(el);\n    return STYLES.map(key => ({\n      key: key,\n      value: computedStyles[key]\n    }));\n  }\n  getWindow() {\n    return isWindowAvailable() ? window : null;\n  }\n  hasOffsetParent(el) {\n    if (!el || !isDocumentAvailable()) {\n      return false;\n    }\n    return !!this.nativeElement(el).offsetParent;\n  }\n  offset(el) {\n    if (!el || !isDocumentAvailable()) {\n      return null;\n    }\n    return offset(el);\n  }\n  offsetAtPoint(el, currentLocation) {\n    if (!el || !isDocumentAvailable()) {\n      return null;\n    }\n    const element = this.nativeElement(el);\n    const {\n      left,\n      top,\n      transition\n    } = element.style;\n    element.style.transition = 'none';\n    element.style.left = `${currentLocation.left}px`;\n    element.style.top = `${currentLocation.top}px`;\n    const currentOffset = offset(element);\n    element.style.left = left;\n    element.style.top = top;\n    // prevents elements with transition to be animated because of the change\n    this._dummy = element.offsetHeight;\n    element.style.transition = transition;\n    return currentOffset;\n  }\n  nativeElement(el) {\n    if (!el || !isDocumentAvailable()) {\n      return null;\n    }\n    return el.nativeElement || el;\n  }\n  position(element, popup, scale = 1) {\n    if (!element || !popup) {\n      return null;\n    }\n    return positionWithScroll(element, this.nativeElement(popup), scale);\n  }\n  removeScroll(rect, scroll) {\n    return removeScroll(rect, scroll);\n  }\n  restrictToView(settings) {\n    return restrictToView(settings);\n  }\n  scrollPosition(el) {\n    return scrollPosition(this.nativeElement(el));\n  }\n  scrollableParents(el) {\n    return scrollableParents(el);\n  }\n  stackingElementOffset(el) {\n    const relativeContextElement = this.getRelativeContextElement(el);\n    if (!relativeContextElement) {\n      return null;\n    }\n    return offset(relativeContextElement);\n  }\n  stackingElementScroll(el) {\n    const relativeContextElement = this.getRelativeContextElement(el);\n    if (!relativeContextElement) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n    return {\n      x: relativeContextElement.scrollLeft,\n      y: relativeContextElement.scrollTop\n    };\n  }\n  getRelativeContextElement(el) {\n    if (!el || !hasRelativeStackingContext()) {\n      return null;\n    }\n    let parent = this.nativeElement(el).parentElement;\n    while (parent) {\n      if (window.getComputedStyle(parent).transform !== 'none') {\n        return parent;\n      }\n      parent = parent.parentElement;\n    }\n    return null;\n  }\n  useRelativePosition(el) {\n    return !!this.getRelativeContextElement(el);\n  }\n  windowViewPort(el) {\n    return getWindowViewPort(this.nativeElement(el));\n  }\n  zIndex(anchor, container) {\n    return zIndex(anchor, this.nativeElement(container));\n  }\n  zoomLevel() {\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n      return 1;\n    }\n    return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n  }\n  isZoomed() {\n    return this.zoomLevel() > 1;\n  }\n}\nDOMService.ɵfac = function DOMService_Factory(t) {\n  return new (t || DOMService)();\n};\nDOMService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: DOMService,\n  factory: DOMService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DOMService, [{\n    type: Injectable\n  }], null, null);\n})();\n\n/**\n * Used to set the document scale when using a [scale transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale).\n *\n * The document or container scale is required to compute the popup position correctly. Detecting the scale is not reliable and must be set by providing a value for SCALE. See [Support for Document Scale]({% slug documentscale_popup %}).\n *\n * > Using this token is not necessary for user-applied browser zoom.\n *\n * {% meta height:300 %}\n * {% embed_file scale/app.component.ts preview %}\n * {% embed_file shared/app.module.ts %}\n * {% embed_file shared/main.ts %}\n * {% endmeta %}\n *\n *\n */\nconst SCALE = new InjectionToken('Popup Document Scale');\n\n/**\n * @hidden\n */\nclass AlignService {\n  constructor(_dom, scale = 1) {\n    this._dom = _dom;\n    this.scale = scale;\n  }\n  alignElement(settings) {\n    const {\n      anchor,\n      element,\n      anchorAlign,\n      elementAlign,\n      margin,\n      offset,\n      positionMode\n    } = settings;\n    const scale = this.scale || 1;\n    const fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n    const anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset, scale) : this.relativeRect(anchor, element, offset, scale);\n    const elementRect = scaleRect(this._dom.offset(element.nativeElement), scale);\n    const result = this._dom.align({\n      anchorAlign: anchorAlign,\n      anchorRect: anchorRect,\n      elementAlign: elementAlign,\n      elementRect: elementRect,\n      margin\n    });\n    return result;\n  }\n  absoluteRect(anchor, element, offset, scale) {\n    const scrollPos = this.elementScrollPosition(anchor, element);\n    const rect = eitherRect(this._dom.offset(anchor), offset);\n    const stackScale = 2 * scale;\n    const stackScroll = this._dom.stackingElementScroll(element);\n    if (scale !== 1 && stackScroll) {\n      stackScroll.x /= stackScale;\n      stackScroll.y /= stackScale;\n    }\n    const stackOffset = this._dom.stackingElementOffset(element);\n    if (scale !== 1 && stackOffset) {\n      stackOffset.left /= stackScale;\n      stackOffset.top /= stackScale;\n    }\n    return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(scaleRect(rect, scale), stackOffset), stackScroll), scrollPos);\n  }\n  elementScrollPosition(anchor, element) {\n    return anchor ? {\n      x: 0,\n      y: 0\n    } : this._dom.scrollPosition(element);\n  }\n  relativeRect(anchor, element, offset, scale) {\n    const rect = eitherRect(this._dom.position(anchor, element, scale), offset);\n    return scaleRect(rect, scale);\n  }\n}\nAlignService.ɵfac = function AlignService_Factory(t) {\n  return new (t || AlignService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(SCALE, 8));\n};\nAlignService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AlignService,\n  factory: AlignService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AlignService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SCALE]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\n/**\n * @hidden\n */\nclass PositionService {\n  constructor(_dom, scale = 1) {\n    this._dom = _dom;\n    this.scale = scale;\n  }\n  positionElement(settings) {\n    const {\n      anchor,\n      currentLocation,\n      element,\n      anchorAlign,\n      elementAlign,\n      collisions,\n      margin\n    } = settings;\n    const dom = this._dom;\n    const scale = this.scale || 1;\n    const elementOffset = dom.offsetAtPoint(element, currentLocation);\n    const elementRect = scaleRect(elementOffset, scale);\n    const anchorOffset = scaleRect(dom.offset(anchor), scale);\n    const anchorRect = eitherRect(anchorOffset, currentLocation);\n    const viewPort = settings.viewPort || dom.windowViewPort(element);\n    viewPort.width = viewPort.width / scale;\n    viewPort.height = viewPort.height / scale;\n    const result = dom.restrictToView({\n      anchorAlign,\n      anchorRect,\n      collisions,\n      elementAlign,\n      elementRect,\n      margin,\n      viewPort\n    });\n    const offset = dom.addOffset(currentLocation, result.offset);\n    return {\n      flip: result.flip,\n      flipped: result.flipped,\n      offset: offset\n    };\n  }\n}\nPositionService.ɵfac = function PositionService_Factory(t) {\n  return new (t || PositionService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(SCALE, 8));\n};\nPositionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PositionService,\n  factory: PositionService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PositionService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SCALE]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\n/**\n * @hidden\n */\nclass ResizeService {\n  constructor(_dom, _zone) {\n    this._dom = _dom;\n    this._zone = _zone;\n  }\n  subscribe(callback) {\n    if (!isDocumentAvailable()) {\n      return;\n    }\n    this._zone.runOutsideAngular(() => {\n      this.subscription = fromEvent(this._dom.getWindow(), \"resize\").pipe(auditTime(FRAME_DURATION)).subscribe(() => callback());\n    });\n  }\n  unsubscribe() {\n    if (!this.subscription) {\n      return;\n    }\n    this.subscription.unsubscribe();\n  }\n  isUnsubscribed() {\n    return this.subscription && this.subscription.closed;\n  }\n}\nResizeService.ɵfac = function ResizeService_Factory(t) {\n  return new (t || ResizeService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(i0.NgZone));\n};\nResizeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ResizeService,\n  factory: ResizeService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ResizeService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\n\n/**\n * @hidden\n */\nconst THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\nclass ScrollableService {\n  constructor(_dom, _zone) {\n    this._dom = _dom;\n    this._zone = _zone;\n  }\n  forElement(element) {\n    this.unsubscribe();\n    this.element = element;\n    return this;\n  }\n  subscribe(callback) {\n    if (!callback || !isDocumentAvailable() || !this.element) {\n      return;\n    }\n    const parents = this._dom.scrollableParents(this.element);\n    this._zone.runOutsideAngular(() => {\n      const observables = parents.map(p => fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)));\n      const subscriber = e => {\n        const target = e.target;\n        const isParent = parents.filter(p => p === target).length > 0;\n        const isDocument = target === document;\n        const isWindow = target === window;\n        if (isParent || isDocument || isWindow) {\n          callback(this.isVisible(this.element, target));\n        }\n      };\n      this.subscription = merge(...observables).subscribe(subscriber);\n    });\n  }\n  unsubscribe() {\n    if (!this.subscription) {\n      return;\n    }\n    this.subscription.unsubscribe();\n  }\n  isVisible(elem, container) {\n    const elemRect = this._dom.boundingOffset(elem);\n    const containerRect = this._dom.boundingOffset(this._dom.nativeElement(container));\n    if (THRESHOLD_DIFF < containerRect.top - elemRect.bottom) {\n      return false;\n    }\n    if (THRESHOLD_DIFF < elemRect.top - containerRect.bottom) {\n      return false;\n    }\n    if (THRESHOLD_DIFF < elemRect.left - containerRect.right) {\n      return false;\n    }\n    if (THRESHOLD_DIFF < containerRect.left - elemRect.right) {\n      return false;\n    }\n    return true;\n  }\n}\nScrollableService.ɵfac = function ScrollableService_Factory(t) {\n  return new (t || ScrollableService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(i0.NgZone));\n};\nScrollableService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ScrollableService,\n  factory: ScrollableService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ScrollableService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nconst LEFT = 'left';\nconst RIGHT = 'right';\nconst DOWN = 'down';\nconst UP = 'up';\nconst DEFAULT_TYPE = 'slide';\nconst DEFAULT_DURATION = 100;\nconst animationTypes = {};\nanimationTypes.expand = direction => {\n  const scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n  const startScale = 0;\n  const endScale = 1;\n  let origin;\n  if (direction === DOWN) {\n    origin = 'top';\n  } else if (direction === LEFT) {\n    origin = RIGHT;\n  } else if (direction === RIGHT) {\n    origin = LEFT;\n  } else {\n    origin = 'bottom';\n  }\n  return {\n    start: {\n      transform: `${scale}(${startScale})`,\n      transformOrigin: origin\n    },\n    end: {\n      transform: `${scale}(${endScale})`\n    }\n  };\n};\nanimationTypes.slide = direction => {\n  const translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n  const start = direction === RIGHT || direction === DOWN ? -100 : 100;\n  const end = 0;\n  return {\n    start: {\n      transform: `${translate}(${start}%)`\n    },\n    end: {\n      transform: `${translate}(${end}%)`\n    }\n  };\n};\nanimationTypes.fade = () => {\n  return {\n    start: {\n      opacity: 0\n    },\n    end: {\n      opacity: 1\n    }\n  };\n};\nanimationTypes.zoom = () => {\n  const start = 0;\n  const end = 1;\n  return {\n    start: {\n      transform: `scale(${start})`\n    },\n    end: {\n      transform: `scale(${end})`\n    }\n  };\n};\n/**\n * @hidden\n */\nclass AnimationService {\n  constructor(animationBuilder) {\n    this.animationBuilder = animationBuilder;\n    this.start = new EventEmitter();\n    this.end = new EventEmitter();\n  }\n  play(element, options, flip) {\n    if (!this.flip || this.flip.horizontal !== flip.horizontal || this.flip.vertical !== flip.vertical) {\n      this.flip = flip;\n      const type = options.type || DEFAULT_TYPE;\n      const statesFn = animationTypes[type];\n      if (statesFn) {\n        const direction = this.getDirection(flip, options);\n        const states = statesFn(direction);\n        this.playStates(element, states, options);\n      } else if (isDevMode()) {\n        throw new Error(`Unsupported animation type: \"${type}\". The supported types are slide, expand, fade and zoom.`);\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.stopPlayer();\n  }\n  playStates(element, states, options) {\n    this.stopPlayer();\n    const duration = options.duration || DEFAULT_DURATION;\n    const factory = this.animationBuilder.build([style(states.start), animate(`${duration}ms ease-in`, style(states.end))]);\n    const player = this.player = factory.create(element);\n    player.onDone(() => {\n      this.end.emit();\n      this.stopPlayer();\n    });\n    this.start.emit();\n    player.play();\n  }\n  getDirection(flip, options) {\n    let direction = options.direction || DOWN;\n    if (flip.horizontal) {\n      if (direction === LEFT) {\n        direction = RIGHT;\n      } else if (direction === RIGHT) {\n        direction = LEFT;\n      }\n    }\n    if (flip.vertical) {\n      if (direction === DOWN) {\n        direction = UP;\n      } else if (direction === UP) {\n        direction = DOWN;\n      }\n    }\n    return direction;\n  }\n  stopPlayer() {\n    if (this.player) {\n      this.player.destroy();\n      this.player = null;\n    }\n  }\n}\nAnimationService.ɵfac = function AnimationService_Factory(t) {\n  return new (t || AnimationService)(i0.ɵɵinject(i1.AnimationBuilder));\n};\nAnimationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AnimationService,\n  factory: AnimationService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnimationService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.AnimationBuilder\n    }];\n  }, null);\n})();\n\n/**\n * @hidden\n */\nconst packageMetadata = {\n  name: '@progress/kendo-angular-popup',\n  productName: 'Kendo UI for Angular',\n  productCodes: ['KENDOUIANGULAR', 'KENDOUICOMPLETE'],\n  publishDate: 1720607721,\n  version: '16.4.0',\n  licensingDocsUrl: 'https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning'\n};\nconst DEFAULT_OFFSET = {\n  left: -10000,\n  top: 0\n};\nconst ANIMATION_CONTAINER = 'k-animation-container';\nconst ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\nclass PopupComponent {\n  constructor(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n    this.container = container;\n    this._alignService = _alignService;\n    this.domService = domService;\n    this._positionService = _positionService;\n    this._resizeService = _resizeService;\n    this._scrollableService = _scrollableService;\n    this.animationService = animationService;\n    this._renderer = _renderer;\n    this._zone = _zone;\n    /**\n     * Controls the Popup animation. By default, the opening and closing animations\n     * are enabled ([see example]({% slug animations_popup %})).\n     */\n    this.animate = true;\n    /**\n     * Specifies the anchor pivot point\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n     */\n    this.anchorAlign = {\n      horizontal: 'left',\n      vertical: 'bottom'\n    };\n    /**\n     * Configures the collision behavior of the Popup\n     * ([see example]({% slug viewportboundarydetection_popup %})).\n     */\n    this.collision = {\n      horizontal: 'fit',\n      vertical: 'flip'\n    };\n    /**\n     * Specifies the pivot point of the Popup\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n     */\n    this.popupAlign = {\n      horizontal: 'left',\n      vertical: 'top'\n    };\n    /**\n     * Controls whether the component will copy the `anchor` font styles.\n     */\n    this.copyAnchorStyles = false;\n    /**\n     * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n     * To make the Popup acquire absolute positioning, set this option to `absolute`.\n     *\n     * > If you need to support mobile browsers with the zoom option,\n     * use the `absolute` positioning of the Popup.\n     *\n     * @example\n     * ```html\n     * <style>\n     *  .parent-content {\n     *     position: relative;\n     *     width: 200px;\n     *     height: 200px;\n     *     overflow: auto;\n     *     margin: 200px auto;\n     *     border: 1px solid red;\n     *  }\n     *  .content {\n     *     position: relative;\n     *     width: 100px;\n     *     height: 100px;\n     *     overflow: auto;\n     *     margin: 300px;\n     *     border: 1px solid blue;\n     *  }\n     *  .anchor {\n     *     position: absolute;\n     *     top: 200px;\n     *     left: 200px;\n     *  }\n     * </style>\n     * ```\n     * ```ts\n     * _@Component({\n     * selector: 'my-app',\n     * template: `\n     *   <div class=\"example-config\">\n     *      Position mode:\n     *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n     *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n     *   </div>\n     *   <div class=\"example-config\">\n     *       Append to\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n     *           Root component\n     *       </label>\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n     *           <span [style.color]=\"'red'\">Red Container</span>\n     *       </label>\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n     *           <span [style.color]=\"'blue'\">Blue Container</span>\n     *       </label>\n     *   </div>\n     *   <div class=\"example\">\n     *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n     *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n     *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n     *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n     *             <ul>\n     *                 <li>Item1</li>\n     *                 <li>Item2</li>\n     *                 <li>Item3</li>\n     *             </ul>\n     *           </kendo-popup>\n     *           <span [style.position]=\"'absolute'\" [style.top.px]=\"400\" [style.left.px]=\"400\">Bottom/Right</span>\n     *         </div>\n     *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n     *           <ul>\n     *               <li>Item1</li>\n     *               <li>Item2</li>\n     *               <li>Item3</li>\n     *           </ul>\n     *         </kendo-popup>\n     *         <span [style.position]=\"'absolute'\" [style.top.px]=\"600\" [style.left.px]=\"600\">Bottom/Right</span>\n     *     </div>\n     *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n     *       <ul>\n     *           <li>Item1</li>\n     *           <li>Item2</li>\n     *           <li>Item3</li>\n     *       </ul>\n     *     </kendo-popup>\n     *   </div>\n     * `\n     * })\n     * class AppComponent {\n     *   public checked: number = 3;\n     *   public mode: string = 'absolute';\n     *   public show: boolean = true;\n     * }\n     * ```\n     */\n    this.positionMode = 'fixed';\n    /**\n     * Specifies the absolute position of the element\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n     * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n     * The boundary detection is applied by using the window viewport.\n     */\n    this.offset = DEFAULT_OFFSET;\n    /**\n     * Fires when the anchor is scrolled outside the screen boundaries.\n     * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n     */\n    this.anchorViewportLeave = new EventEmitter();\n    /**\n     * Fires after the component is closed.\n     */\n    this.close = new EventEmitter();\n    /**\n     * Fires after the component is opened and the opening animation ends.\n     */\n    this.open = new EventEmitter();\n    /**\n     * Fires after the component is opened and the Popup is positioned.\n     */\n    this.positionChange = new EventEmitter();\n    this.resolvedPromise = Promise.resolve(null);\n    this.initialCheck = true;\n    validatePackage(packageMetadata);\n    this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n    this.updateFixedClass();\n  }\n  ngOnInit() {\n    this.reposition = this.reposition.bind(this);\n    this._resizeService.subscribe(this.reposition);\n    this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n    this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n    this._scrollableService.forElement(this.domService.nativeElement(this.anchor) || this.container.nativeElement).subscribe(this.onScroll.bind(this));\n    this.currentOffset = DEFAULT_OFFSET;\n    this.setZIndex();\n    this.copyFontStyles();\n    this.updateFixedClass();\n    this.reposition();\n  }\n  ngOnChanges(changes) {\n    if (changes.copyAnchorStyles) {\n      this.copyFontStyles();\n    }\n    if (changes.positionMode) {\n      this.updateFixedClass();\n    }\n  }\n  ngAfterViewInit() {\n    if (!this.animate) {\n      this.resolvedPromise.then(() => {\n        this.onAnimationEnd();\n      });\n    }\n    this.reposition();\n  }\n  ngAfterViewChecked() {\n    if (this.initialCheck) {\n      this.initialCheck = false;\n      return;\n    }\n    this._zone.runOutsideAngular(() => {\n      // workarounds https://github.com/angular/angular/issues/19094\n      // uses promise because it is executed synchronously after the content is updated\n      // does not use onStable in case the current zone is not the angular one.\n      this.unsubscribeReposition();\n      this.repositionSubscription = from(this.resolvedPromise).subscribe(this.reposition);\n    });\n  }\n  ngOnDestroy() {\n    this.anchorViewportLeave.complete();\n    this.positionChange.complete();\n    this.close.emit();\n    this.close.complete();\n    this._resizeService.unsubscribe();\n    this._scrollableService.unsubscribe();\n    this.animationSubscriptions.unsubscribe();\n    this.unsubscribeReposition();\n  }\n  /**\n   * @hidden\n   */\n  onResize() {\n    this.reposition();\n  }\n  onAnimationStart() {\n    this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n  }\n  onAnimationEnd() {\n    this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n    this.open.emit();\n    this.open.complete();\n  }\n  get currentOffset() {\n    return this._currentOffset;\n  }\n  set currentOffset(offset) {\n    this.setContainerStyle('left', `${offset.left}px`);\n    this.setContainerStyle('top', `${offset.top}px`);\n    this._currentOffset = offset;\n  }\n  setZIndex() {\n    if (this.anchor) {\n      this.setContainerStyle('z-index', String(this.domService.zIndex(this.domService.nativeElement(this.anchor), this.container)));\n    }\n  }\n  reposition() {\n    if (!isDocumentAvailable()) {\n      return;\n    }\n    const {\n      flip,\n      offset\n    } = this.position();\n    if (!this.currentOffset || isDifferentOffset(this.currentOffset, offset)) {\n      this.currentOffset = offset;\n      if (hasObservers(this.positionChange)) {\n        this._zone.run(() => this.positionChange.emit({\n          offset,\n          flip\n        }));\n      }\n    }\n    if (this.animate) {\n      this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n    }\n    this.resizeSensor.acceptSize();\n  }\n  position() {\n    const alignedOffset = this._alignService.alignElement({\n      anchor: this.domService.nativeElement(this.anchor),\n      anchorAlign: this.anchorAlign,\n      element: this.container,\n      elementAlign: this.popupAlign,\n      margin: this.margin,\n      offset: this.offset,\n      positionMode: this.positionMode\n    });\n    return this._positionService.positionElement({\n      anchor: this.domService.nativeElement(this.anchor),\n      anchorAlign: this.anchorAlign,\n      collisions: this.collision,\n      currentLocation: alignedOffset,\n      element: this.container,\n      elementAlign: this.popupAlign,\n      margin: this.margin\n    });\n  }\n  onScroll(isInViewPort) {\n    const hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n    if (isInViewPort || !hasLeaveObservers) {\n      this.reposition();\n    } else if (hasLeaveObservers) {\n      this._zone.run(() => {\n        this.anchorViewportLeave.emit();\n      });\n    }\n  }\n  copyFontStyles() {\n    if (!this.anchor || !this.copyAnchorStyles) {\n      return;\n    }\n    this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(s => this.setContainerStyle(s.key, s.value));\n  }\n  updateFixedClass() {\n    const action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n    this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n  }\n  setContainerStyle(name, value) {\n    this._renderer.setStyle(this.container.nativeElement, name, value);\n  }\n  unsubscribeReposition() {\n    if (this.repositionSubscription) {\n      this.repositionSubscription.unsubscribe();\n    }\n  }\n}\nPopupComponent.ɵfac = function PopupComponent_Factory(t) {\n  return new (t || PopupComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(AlignService), i0.ɵɵdirectiveInject(DOMService), i0.ɵɵdirectiveInject(PositionService), i0.ɵɵdirectiveInject(ResizeService), i0.ɵɵdirectiveInject(ScrollableService), i0.ɵɵdirectiveInject(AnimationService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.NgZone));\n};\nPopupComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PopupComponent,\n  selectors: [[\"kendo-popup\"]],\n  viewQuery: function PopupComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(ResizeSensorComponent, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.contentContainer = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resizeSensor = _t.first);\n    }\n  },\n  inputs: {\n    animate: \"animate\",\n    anchor: \"anchor\",\n    anchorAlign: \"anchorAlign\",\n    collision: \"collision\",\n    popupAlign: \"popupAlign\",\n    copyAnchorStyles: \"copyAnchorStyles\",\n    popupClass: \"popupClass\",\n    positionMode: \"positionMode\",\n    offset: \"offset\",\n    margin: \"margin\"\n  },\n  outputs: {\n    anchorViewportLeave: \"anchorViewportLeave\",\n    close: \"close\",\n    open: \"open\",\n    positionChange: \"positionChange\"\n  },\n  exportAs: [\"kendo-popup\"],\n  features: [i0.ɵɵProvidersFeature([AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService]), i0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"k-child-animation-container\"], [1, \"k-popup\", 3, \"ngClass\"], [\"container\", \"\"], [3, \"ngTemplateOutlet\", \"ngIf\"], [3, \"rateLimit\", \"resize\"]],\n  template: function PopupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1, 2);\n      i0.ɵɵprojection(3);\n      i0.ɵɵtemplate(4, PopupComponent_ng_template_4_Template, 0, 0, \"ng-template\", 3);\n      i0.ɵɵelementStart(5, \"kendo-resize-sensor\", 4);\n      i0.ɵɵlistener(\"resize\", function PopupComponent_Template_kendo_resize_sensor_resize_5_listener() {\n        return ctx.onResize();\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngClass\", ctx.popupClass);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.content)(\"ngIf\", ctx.content);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"rateLimit\", 100);\n    }\n  },\n  dependencies: [i7.NgClass, i7.NgIf, i7.NgTemplateOutlet, i8.ResizeSensorComponent],\n  encapsulation: 2\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupComponent, [{\n    type: Component,\n    args: [{\n      exportAs: 'kendo-popup',\n      providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n      selector: 'kendo-popup',\n      template: `\n        <div class=\"k-child-animation-container\">\n            <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n                <ng-content></ng-content>\n                <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n                <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n                </kendo-resize-sensor>\n            </div>\n        </div>\n     `\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: AlignService\n    }, {\n      type: DOMService\n    }, {\n      type: PositionService\n    }, {\n      type: ResizeService\n    }, {\n      type: ScrollableService\n    }, {\n      type: AnimationService\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    animate: [{\n      type: Input\n    }],\n    anchor: [{\n      type: Input\n    }],\n    anchorAlign: [{\n      type: Input\n    }],\n    collision: [{\n      type: Input\n    }],\n    popupAlign: [{\n      type: Input\n    }],\n    copyAnchorStyles: [{\n      type: Input\n    }],\n    popupClass: [{\n      type: Input\n    }],\n    positionMode: [{\n      type: Input\n    }],\n    offset: [{\n      type: Input\n    }],\n    margin: [{\n      type: Input\n    }],\n    anchorViewportLeave: [{\n      type: Output\n    }],\n    close: [{\n      type: Output\n    }],\n    open: [{\n      type: Output\n    }],\n    positionChange: [{\n      type: Output\n    }],\n    contentContainer: [{\n      type: ViewChild,\n      args: ['container', {\n        static: true\n      }]\n    }],\n    resizeSensor: [{\n      type: ViewChild,\n      args: [ResizeSensorComponent, {\n        static: true\n      }]\n    }]\n  });\n})();\nconst removeElement = element => {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\nconst POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\nclass PopupService {\n  constructor(applicationRef, componentFactoryResolver, injector, container) {\n    this.applicationRef = applicationRef;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.injector = injector;\n    this.container = container;\n  }\n  /**\n   * Gets the root view container into which the component will be injected.\n   *\n   * @returns {ComponentRef<any>}\n   */\n  get rootViewContainer() {\n    // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n    const rootComponents = this.applicationRef.components || [];\n    if (rootComponents[0]) {\n      return rootComponents[0];\n    }\n    throw new Error(`\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        `);\n  }\n  /**\n   * Sets or gets the HTML element of the root component container.\n   *\n   * @returns {HTMLElement}\n   */\n  get rootViewContainerNode() {\n    return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n  }\n  /**\n   * Opens a Popup component. Created Popups are mounted\n   * in the DOM directly in the root application component.\n   *\n   * @param {PopupSettings} options - The options which define the Popup.\n   * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n   *\n   * @example\n   *\n   * ```ts-no-run\n   * _@Component({\n   *   selector: 'my-app',\n   *   template: `\n   *     <ng-template #template>\n   *      Popup content\n   *     </ng-template>\n   *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n   *   `\n   * })\n   * export class AppComponent {\n   *     public popupRef: PopupRef;\n   *\n   *     constructor( private popupService: PopupService ) {}\n   *\n   *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n   *         if (this.popupRef) {\n   *              this.popupRef.close();\n   *              this.popupRef = null;\n   *              return;\n   *         }\n   *\n   *         this.popupRef = this.popupService.open({\n   *           anchor: anchor,\n   *           content: template\n   *         });\n   *     }\n   * }\n   * ```\n   */\n  open(options = {}) {\n    const {\n      component,\n      nodes\n    } = this.contentFrom(options.content);\n    const popupComponentRef = this.appendPopup(nodes, options.appendTo);\n    const popupInstance = popupComponentRef.instance;\n    this.projectComponentInputs(popupComponentRef, options);\n    popupComponentRef.changeDetectorRef.detectChanges();\n    if (component) {\n      component.changeDetectorRef.detectChanges();\n    }\n    const popupElement = this.getComponentRootNode(popupComponentRef);\n    return {\n      close: () => {\n        if (component) {\n          component.destroy();\n        }\n        popupComponentRef.destroy();\n        // Angular will not remove the element unless the change detection is triggered\n        removeElement(popupElement);\n      },\n      content: component,\n      popup: popupComponentRef,\n      popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n      popupClose: popupInstance.close,\n      popupElement: popupElement,\n      popupOpen: popupInstance.open,\n      popupPositionChange: popupInstance.positionChange\n    };\n  }\n  appendPopup(nodes, container) {\n    const popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n    if (!container) {\n      this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n    }\n    return popupComponentRef;\n  }\n  /**\n   * Gets the HTML element for a component reference.\n   *\n   * @param {ComponentRef<any>} componentRef\n   * @returns {HTMLElement}\n   */\n  getComponentRootNode(componentRef) {\n    return componentRef.location.nativeElement;\n  }\n  /**\n   * Gets the `ComponentFactory` instance by its type.\n   *\n   * @param {*} componentClass\n   * @param {*} nodes\n   * @returns {ComponentRef<any>}\n   */\n  getComponentFactory(componentClass) {\n    return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n  }\n  /**\n   * Creates a component reference from a `Component` type class.\n   *\n   * @param {*} componentClass\n   * @param {*} nodes\n   * @returns {ComponentRef<any>}\n   */\n  createComponent(componentClass, nodes, container) {\n    const factory = this.getComponentFactory(componentClass);\n    if (container) {\n      return container.createComponent(factory, undefined, this.injector, nodes);\n    } else {\n      const component = factory.create(this.injector, nodes);\n      this.applicationRef.attachView(component.hostView);\n      return component;\n    }\n  }\n  /**\n   * Projects the inputs on the component.\n   *\n   * @param {ComponentRef<any>} component\n   * @param {*} options\n   * @returns {ComponentRef<any>}\n   */\n  projectComponentInputs(component, options) {\n    Object.getOwnPropertyNames(options).filter(prop => prop !== 'content' || options.content instanceof TemplateRef).map(prop => {\n      component.instance[prop] = options[prop];\n    });\n    return component;\n  }\n  /**\n   * Gets the component and the nodes to append from the `content` option.\n   *\n   * @param {*} content\n   * @returns {any}\n   */\n  contentFrom(content) {\n    if (!content || content instanceof TemplateRef) {\n      return {\n        component: null,\n        nodes: [[]]\n      };\n    }\n    const component = this.createComponent(content);\n    const nodes = component ? [component.location.nativeElement] : [];\n    return {\n      component: component,\n      nodes: [nodes // <ng-content>\n      ]\n    };\n  }\n}\n\nPopupService.ɵfac = function PopupService_Factory(t) {\n  return new (t || PopupService)(i0.ɵɵinject(i0.ApplicationRef), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(POPUP_CONTAINER, 8));\n};\nPopupService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PopupService,\n  factory: PopupService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i0.ApplicationRef\n    }, {\n      type: i0.ComponentFactoryResolver\n    }, {\n      type: i0.Injector\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [POPUP_CONTAINER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\nconst POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule](link:site.data.urls.angular['ngmoduleapi'])\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\nclass PopupModule {}\nPopupModule.ɵfac = function PopupModule_Factory(t) {\n  return new (t || PopupModule)();\n};\nPopupModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: PopupModule\n});\nPopupModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [PopupService],\n  imports: [CommonModule, ResizeSensorModule]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [POPUP_DIRECTIVES],\n      entryComponents: [POPUP_DIRECTIVES],\n      exports: [POPUP_DIRECTIVES],\n      imports: [CommonModule, ResizeSensorModule],\n      providers: [PopupService]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { POPUP_CONTAINER, PopupComponent, PopupModule, PopupService, SCALE };","map":{"version":3,"names":["i0","Injectable","InjectionToken","Inject","Optional","EventEmitter","isDevMode","Component","Input","Output","ViewChild","TemplateRef","NgModule","siblingContainer","parents","addScroll","align","boundingOffset","offset","positionWithScroll","removeScroll","restrictToView","scrollPosition","getWindowViewPort","i8","isDocumentAvailable","hasObservers","ResizeSensorComponent","ResizeSensorModule","fromEvent","merge","from","auditTime","i1","style","animate","validatePackage","i7","CommonModule","eitherRect","rect","height","left","top","width","replaceOffset","result","removeStackingOffset","stackingOffset","isDifferentOffset","oldOffset","newOffset","oldLeft","oldTop","newLeft","newTop","Math","abs","isWindowAvailable","window","hasBoundingRect","elem","getBoundingClientRect","OVERFLOW_REGEXP","overflowElementStyle","element","overflow","overflowX","overflowY","overflowComputedStyle","styles","getComputedStyle","overflowStyle","scrollableParents","parentElements","parent","parentElement","test","hasAttribute","push","FRAME_DURATION","memoize","fun","called","args","hasRelativeStackingContext","document","body","createElement","transform","childElement","position","textContent","appendChild","isDifferent","children","removeChild","zIndex","anchor","container","sibling","concat","reduce","index","p","zIndexStyle","current","parseInt","scaleRect","scale","STYLES","DOMService","addOffset","addition","scroll","settings","el","getFontStyles","getWindow","computedStyles","map","key","value","hasOffsetParent","nativeElement","offsetParent","offsetAtPoint","currentLocation","transition","currentOffset","_dummy","offsetHeight","popup","stackingElementOffset","relativeContextElement","getRelativeContextElement","stackingElementScroll","x","y","scrollLeft","scrollTop","useRelativePosition","windowViewPort","zoomLevel","parseFloat","documentElement","clientWidth","innerWidth","toFixed","isZoomed","ɵfac","ɵprov","type","SCALE","AlignService","constructor","_dom","alignElement","anchorAlign","elementAlign","margin","positionMode","fixedMode","anchorRect","absoluteRect","relativeRect","elementRect","scrollPos","elementScrollPosition","stackScale","stackScroll","stackOffset","undefined","decorators","PositionService","positionElement","collisions","dom","elementOffset","anchorOffset","viewPort","flip","flipped","ResizeService","_zone","subscribe","callback","runOutsideAngular","subscription","pipe","unsubscribe","isUnsubscribed","closed","NgZone","THRESHOLD_DIFF","ScrollableService","forElement","observables","subscriber","e","target","isParent","filter","length","isDocument","isWindow","isVisible","elemRect","containerRect","bottom","right","LEFT","RIGHT","DOWN","UP","DEFAULT_TYPE","DEFAULT_DURATION","animationTypes","expand","direction","startScale","endScale","origin","start","transformOrigin","end","slide","translate","fade","opacity","zoom","AnimationService","animationBuilder","play","options","horizontal","vertical","statesFn","getDirection","states","playStates","Error","ngOnDestroy","stopPlayer","duration","factory","build","player","create","onDone","emit","destroy","AnimationBuilder","packageMetadata","name","productName","productCodes","publishDate","version","licensingDocsUrl","DEFAULT_OFFSET","ANIMATION_CONTAINER","ANIMATION_CONTAINER_FIXED","PopupComponent","_alignService","domService","_positionService","_resizeService","_scrollableService","animationService","_renderer","collision","popupAlign","copyAnchorStyles","anchorViewportLeave","close","open","positionChange","resolvedPromise","Promise","resolve","initialCheck","addClass","updateFixedClass","ngOnInit","reposition","bind","animationSubscriptions","onAnimationStart","add","onAnimationEnd","onScroll","setZIndex","copyFontStyles","ngOnChanges","changes","ngAfterViewInit","then","ngAfterViewChecked","unsubscribeReposition","repositionSubscription","complete","onResize","removeClass","_currentOffset","setContainerStyle","String","run","contentContainer","resizeSensor","acceptSize","alignedOffset","isInViewPort","hasLeaveObservers","forEach","s","action","setStyle","ElementRef","Renderer2","ɵcmp","NgClass","NgIf","NgTemplateOutlet","exportAs","providers","selector","template","popupClass","static","removeElement","parentNode","POPUP_CONTAINER","PopupService","applicationRef","componentFactoryResolver","injector","rootViewContainer","rootComponents","components","rootViewContainerNode","getComponentRootNode","component","nodes","contentFrom","content","popupComponentRef","appendPopup","appendTo","popupInstance","instance","projectComponentInputs","changeDetectorRef","detectChanges","popupElement","popupAnchorViewportLeave","popupClose","popupOpen","popupPositionChange","createComponent","componentRef","location","getComponentFactory","componentClass","resolveComponentFactory","attachView","hostView","Object","getOwnPropertyNames","prop","ApplicationRef","ComponentFactoryResolver","Injector","POPUP_DIRECTIVES","PopupModule","ɵmod","ɵinj","declarations","entryComponents","exports","imports"],"sources":["/Users/teqnoid/Projects/teachingchannel/node_modules/@progress/kendo-angular-popup/fesm2020/progress-kendo-angular-popup.mjs"],"sourcesContent":["/**-----------------------------------------------------------------------------------------\n* Copyright © 2024 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, Inject, Optional, EventEmitter, isDevMode, Component, Input, Output, ViewChild, TemplateRef, NgModule } from '@angular/core';\nimport { siblingContainer, parents, addScroll, align, boundingOffset, offset, positionWithScroll, removeScroll, restrictToView, scrollPosition, getWindowViewPort } from '@progress/kendo-popup-common';\nimport * as i8 from '@progress/kendo-angular-common';\nimport { isDocumentAvailable, hasObservers, ResizeSensorComponent, ResizeSensorModule } from '@progress/kendo-angular-common';\nimport { fromEvent, merge, from } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport * as i1 from '@angular/animations';\nimport { style, animate } from '@angular/animations';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport * as i7 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @hidden\n */\nconst eitherRect = (rect, offset) => {\n    if (!rect) {\n        return { height: 0, left: offset.left, top: offset.top, width: 0 };\n    }\n    return rect;\n};\n/**\n * @hidden\n */\nconst replaceOffset = (rect, offset) => {\n    if (!offset) {\n        return rect;\n    }\n    const result = {\n        height: rect.height,\n        left: offset.left,\n        top: offset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nconst removeStackingOffset = (rect, stackingOffset) => {\n    if (!stackingOffset) {\n        return rect;\n    }\n    const result = {\n        height: rect.height,\n        left: rect.left - stackingOffset.left,\n        top: rect.top - stackingOffset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nconst isDifferentOffset = (oldOffset, newOffset) => {\n    const { left: oldLeft, top: oldTop } = oldOffset;\n    const { left: newLeft, top: newTop } = newOffset;\n    return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\nconst isWindowAvailable = () => {\n    return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\nconst hasBoundingRect = (elem) => !!elem.getBoundingClientRect;\n/**\n * @hidden\n */\nconst OVERFLOW_REGEXP = /auto|scroll/;\nconst overflowElementStyle = (element) => {\n    return `${element.style.overflow}${element.style.overflowX}${element.style.overflowY}`;\n};\nconst overflowComputedStyle = (element) => {\n    const styles = window.getComputedStyle(element);\n    return `${styles.overflow}${styles.overflowX}${styles.overflowY}`;\n};\nconst overflowStyle = (element) => {\n    return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\nconst scrollableParents = (element) => {\n    const parentElements = [];\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n        return parentElements;\n    }\n    let parent = element.parentElement;\n    while (parent) {\n        if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n            parentElements.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    parentElements.push(window);\n    return parentElements;\n};\n/**\n * @hidden\n */\nconst FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction memoize(fun) {\n    let result;\n    let called = false;\n    return (...args) => {\n        if (called) {\n            return result;\n        }\n        result = fun(...args);\n        called = true;\n        return result;\n    };\n}\n/**\n * @hidden\n */\nconst hasRelativeStackingContext = memoize(() => {\n    if (!isDocumentAvailable() && document.body !== null) {\n        return false;\n    }\n    const top = 10;\n    const parent = document.createElement(\"div\");\n    parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n    const childElement = document.createElement(\"div\");\n    childElement.style.position = 'fixed';\n    childElement.style.top = `${top}px`;\n    childElement.textContent = 'child';\n    parent.appendChild(childElement);\n    document.body.appendChild(parent);\n    const isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n    document.body.removeChild(parent);\n    return isDifferent;\n});\n/**\n * @hidden\n */\nconst zIndex = (anchor, container) => {\n    if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n        return null;\n    }\n    const sibling = siblingContainer(anchor, container);\n    if (!sibling) {\n        return null;\n    }\n    const result = [anchor].concat(parents(anchor, sibling)).reduce((index, p) => {\n        const zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n        const current = parseInt(zIndexStyle, 10);\n        return current > index ? current : index;\n    }, 0);\n    return result ? (result + 1) : null;\n};\n/**\n * @hidden\n */\nconst scaleRect = (rect, scale) => {\n    if (!rect || scale === 1) {\n        return rect;\n    }\n    return {\n        height: rect.height / scale,\n        left: rect.left / scale,\n        top: rect.top / scale,\n        width: rect.width / scale\n    };\n};\n\nconst STYLES = [\n    'font-size',\n    'font-family',\n    'font-stretch',\n    'font-style',\n    'font-weight',\n    'line-height'\n];\n/**\n * @hidden\n */\nclass DOMService {\n    addOffset(current, addition) {\n        return {\n            left: current.left + addition.left,\n            top: current.top + addition.top\n        };\n    }\n    addScroll(rect, scroll) {\n        return addScroll(rect, scroll);\n    }\n    align(settings) {\n        return align(settings);\n    }\n    boundingOffset(el) {\n        return boundingOffset(el);\n    }\n    getFontStyles(el) {\n        const window = this.getWindow();\n        if (!window || !el) {\n            return [];\n        }\n        const computedStyles = window.getComputedStyle(el);\n        return STYLES.map(key => ({ key: key, value: computedStyles[key] }));\n    }\n    getWindow() {\n        return isWindowAvailable() ? window : null;\n    }\n    hasOffsetParent(el) {\n        if (!el || !isDocumentAvailable()) {\n            return false;\n        }\n        return !!this.nativeElement(el).offsetParent;\n    }\n    offset(el) {\n        if (!el || !isDocumentAvailable()) {\n            return null;\n        }\n        return offset(el);\n    }\n    offsetAtPoint(el, currentLocation) {\n        if (!el || !isDocumentAvailable()) {\n            return null;\n        }\n        const element = this.nativeElement(el);\n        const { left, top, transition } = element.style;\n        element.style.transition = 'none';\n        element.style.left = `${currentLocation.left}px`;\n        element.style.top = `${currentLocation.top}px`;\n        const currentOffset = offset(element);\n        element.style.left = left;\n        element.style.top = top;\n        // prevents elements with transition to be animated because of the change\n        this._dummy = element.offsetHeight;\n        element.style.transition = transition;\n        return currentOffset;\n    }\n    nativeElement(el) {\n        if (!el || !isDocumentAvailable()) {\n            return null;\n        }\n        return el.nativeElement || el;\n    }\n    position(element, popup, scale = 1) {\n        if (!element || !popup) {\n            return null;\n        }\n        return positionWithScroll(element, this.nativeElement(popup), scale);\n    }\n    removeScroll(rect, scroll) {\n        return removeScroll(rect, scroll);\n    }\n    restrictToView(settings) {\n        return restrictToView(settings);\n    }\n    scrollPosition(el) {\n        return scrollPosition(this.nativeElement(el));\n    }\n    scrollableParents(el) {\n        return scrollableParents(el);\n    }\n    stackingElementOffset(el) {\n        const relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return offset(relativeContextElement);\n    }\n    stackingElementScroll(el) {\n        const relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return { x: 0, y: 0 };\n        }\n        return {\n            x: relativeContextElement.scrollLeft,\n            y: relativeContextElement.scrollTop\n        };\n    }\n    getRelativeContextElement(el) {\n        if (!el || !hasRelativeStackingContext()) {\n            return null;\n        }\n        let parent = this.nativeElement(el).parentElement;\n        while (parent) {\n            if (window.getComputedStyle(parent).transform !== 'none') {\n                return parent;\n            }\n            parent = parent.parentElement;\n        }\n        return null;\n    }\n    useRelativePosition(el) {\n        return !!this.getRelativeContextElement(el);\n    }\n    windowViewPort(el) {\n        return getWindowViewPort(this.nativeElement(el));\n    }\n    zIndex(anchor, container) {\n        return zIndex(anchor, this.nativeElement(container));\n    }\n    zoomLevel() {\n        if (!isDocumentAvailable() || !isWindowAvailable()) {\n            return 1;\n        }\n        return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n    }\n    isZoomed() {\n        return this.zoomLevel() > 1;\n    }\n}\nDOMService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: DOMService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nDOMService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: DOMService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: DOMService, decorators: [{\n            type: Injectable\n        }] });\n\n/**\n * Used to set the document scale when using a [scale transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale).\n *\n * The document or container scale is required to compute the popup position correctly. Detecting the scale is not reliable and must be set by providing a value for SCALE. See [Support for Document Scale]({% slug documentscale_popup %}).\n *\n * > Using this token is not necessary for user-applied browser zoom.\n *\n * {% meta height:300 %}\n * {% embed_file scale/app.component.ts preview %}\n * {% embed_file shared/app.module.ts %}\n * {% embed_file shared/main.ts %}\n * {% endmeta %}\n *\n *\n */\nconst SCALE = new InjectionToken('Popup Document Scale');\n\n/**\n * @hidden\n */\nclass AlignService {\n    constructor(_dom, scale = 1) {\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    alignElement(settings) {\n        const { anchor, element, anchorAlign, elementAlign, margin, offset, positionMode } = settings;\n        const scale = this.scale || 1;\n        const fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n        const anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset, scale) : this.relativeRect(anchor, element, offset, scale);\n        const elementRect = scaleRect(this._dom.offset(element.nativeElement), scale);\n        const result = this._dom.align({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            elementAlign: elementAlign,\n            elementRect: elementRect,\n            margin\n        });\n        return result;\n    }\n    absoluteRect(anchor, element, offset, scale) {\n        const scrollPos = this.elementScrollPosition(anchor, element);\n        const rect = eitherRect(this._dom.offset(anchor), offset);\n        const stackScale = 2 * scale;\n        const stackScroll = this._dom.stackingElementScroll(element);\n        if (scale !== 1 && stackScroll) {\n            stackScroll.x /= stackScale;\n            stackScroll.y /= stackScale;\n        }\n        const stackOffset = this._dom.stackingElementOffset(element);\n        if (scale !== 1 && stackOffset) {\n            stackOffset.left /= stackScale;\n            stackOffset.top /= stackScale;\n        }\n        return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(scaleRect(rect, scale), stackOffset), stackScroll), scrollPos);\n    }\n    elementScrollPosition(anchor, element) {\n        return anchor ? { x: 0, y: 0 } : this._dom.scrollPosition(element);\n    }\n    relativeRect(anchor, element, offset, scale) {\n        const rect = eitherRect(this._dom.position(anchor, element, scale), offset);\n        return scaleRect(rect, scale);\n    }\n}\nAlignService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: AlignService, deps: [{ token: DOMService }, { token: SCALE, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nAlignService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: AlignService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: AlignService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SCALE]\n                }, {\n                    type: Optional\n                }] }]; } });\n\n/**\n * @hidden\n */\nclass PositionService {\n    constructor(_dom, scale = 1) {\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    positionElement(settings) {\n        const { anchor, currentLocation, element, anchorAlign, elementAlign, collisions, margin } = settings;\n        const dom = this._dom;\n        const scale = this.scale || 1;\n        const elementOffset = dom.offsetAtPoint(element, currentLocation);\n        const elementRect = scaleRect(elementOffset, scale);\n        const anchorOffset = scaleRect(dom.offset(anchor), scale);\n        const anchorRect = eitherRect(anchorOffset, currentLocation);\n        const viewPort = settings.viewPort || dom.windowViewPort(element);\n        viewPort.width = viewPort.width / scale;\n        viewPort.height = viewPort.height / scale;\n        const result = dom.restrictToView({\n            anchorAlign,\n            anchorRect,\n            collisions,\n            elementAlign,\n            elementRect,\n            margin,\n            viewPort\n        });\n        const offset = dom.addOffset(currentLocation, result.offset);\n        return {\n            flip: result.flip,\n            flipped: result.flipped,\n            offset: offset\n        };\n    }\n}\nPositionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PositionService, deps: [{ token: DOMService }, { token: SCALE, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPositionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PositionService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PositionService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SCALE]\n                }, {\n                    type: Optional\n                }] }]; } });\n\n/**\n * @hidden\n */\nclass ResizeService {\n    constructor(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    subscribe(callback) {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this._zone.runOutsideAngular(() => {\n            this.subscription = fromEvent(this._dom.getWindow(), \"resize\")\n                .pipe(auditTime(FRAME_DURATION))\n                .subscribe(() => callback());\n        });\n    }\n    unsubscribe() {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    }\n    isUnsubscribed() {\n        return this.subscription && this.subscription.closed;\n    }\n}\nResizeService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: ResizeService, deps: [{ token: DOMService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\nResizeService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: ResizeService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: ResizeService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: i0.NgZone }]; } });\n\n/**\n * @hidden\n */\nconst THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\nclass ScrollableService {\n    constructor(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    forElement(element) {\n        this.unsubscribe();\n        this.element = element;\n        return this;\n    }\n    subscribe(callback) {\n        if (!callback || !isDocumentAvailable() || !this.element) {\n            return;\n        }\n        const parents = this._dom.scrollableParents(this.element);\n        this._zone.runOutsideAngular(() => {\n            const observables = parents.map(p => fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)));\n            const subscriber = (e) => {\n                const target = e.target;\n                const isParent = parents.filter(p => p === target).length > 0;\n                const isDocument = target === document;\n                const isWindow = target === window;\n                if (isParent || isDocument || isWindow) {\n                    callback(this.isVisible(this.element, target));\n                }\n            };\n            this.subscription = merge(...observables).subscribe(subscriber);\n        });\n    }\n    unsubscribe() {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    }\n    isVisible(elem, container) {\n        const elemRect = this._dom.boundingOffset(elem);\n        const containerRect = this._dom.boundingOffset(this._dom.nativeElement(container));\n        if (THRESHOLD_DIFF < (containerRect.top - elemRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.top - containerRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.left - containerRect.right)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (containerRect.left - elemRect.right)) {\n            return false;\n        }\n        return true;\n    }\n}\nScrollableService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: ScrollableService, deps: [{ token: DOMService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\nScrollableService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: ScrollableService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: ScrollableService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: i0.NgZone }]; } });\n\nconst LEFT = 'left';\nconst RIGHT = 'right';\nconst DOWN = 'down';\nconst UP = 'up';\nconst DEFAULT_TYPE = 'slide';\nconst DEFAULT_DURATION = 100;\nconst animationTypes = {};\nanimationTypes.expand = (direction) => {\n    const scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n    const startScale = 0;\n    const endScale = 1;\n    let origin;\n    if (direction === DOWN) {\n        origin = 'top';\n    }\n    else if (direction === LEFT) {\n        origin = RIGHT;\n    }\n    else if (direction === RIGHT) {\n        origin = LEFT;\n    }\n    else {\n        origin = 'bottom';\n    }\n    return {\n        start: { transform: `${scale}(${startScale})`, transformOrigin: origin },\n        end: { transform: `${scale}(${endScale})` }\n    };\n};\nanimationTypes.slide = (direction) => {\n    const translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n    const start = direction === RIGHT || direction === DOWN ? -100 : 100;\n    const end = 0;\n    return {\n        start: { transform: `${translate}(${start}%)` },\n        end: { transform: `${translate}(${end}%)` }\n    };\n};\nanimationTypes.fade = () => {\n    return {\n        start: { opacity: 0 },\n        end: { opacity: 1 }\n    };\n};\nanimationTypes.zoom = () => {\n    const start = 0;\n    const end = 1;\n    return {\n        start: { transform: `scale(${start})` },\n        end: { transform: `scale(${end})` }\n    };\n};\n/**\n * @hidden\n */\nclass AnimationService {\n    constructor(animationBuilder) {\n        this.animationBuilder = animationBuilder;\n        this.start = new EventEmitter();\n        this.end = new EventEmitter();\n    }\n    play(element, options, flip) {\n        if (!this.flip || this.flip.horizontal !== flip.horizontal ||\n            this.flip.vertical !== flip.vertical) {\n            this.flip = flip;\n            const type = options.type || DEFAULT_TYPE;\n            const statesFn = animationTypes[type];\n            if (statesFn) {\n                const direction = this.getDirection(flip, options);\n                const states = statesFn(direction);\n                this.playStates(element, states, options);\n            }\n            else if (isDevMode()) {\n                throw new Error(`Unsupported animation type: \"${type}\". The supported types are slide, expand, fade and zoom.`);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.stopPlayer();\n    }\n    playStates(element, states, options) {\n        this.stopPlayer();\n        const duration = options.duration || DEFAULT_DURATION;\n        const factory = this.animationBuilder.build([\n            style(states.start),\n            animate(`${duration}ms ease-in`, style(states.end))\n        ]);\n        const player = this.player = factory.create(element);\n        player.onDone(() => {\n            this.end.emit();\n            this.stopPlayer();\n        });\n        this.start.emit();\n        player.play();\n    }\n    getDirection(flip, options) {\n        let direction = options.direction || DOWN;\n        if (flip.horizontal) {\n            if (direction === LEFT) {\n                direction = RIGHT;\n            }\n            else if (direction === RIGHT) {\n                direction = LEFT;\n            }\n        }\n        if (flip.vertical) {\n            if (direction === DOWN) {\n                direction = UP;\n            }\n            else if (direction === UP) {\n                direction = DOWN;\n            }\n        }\n        return direction;\n    }\n    stopPlayer() {\n        if (this.player) {\n            this.player.destroy();\n            this.player = null;\n        }\n    }\n}\nAnimationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: AnimationService, deps: [{ token: i1.AnimationBuilder }], target: i0.ɵɵFactoryTarget.Injectable });\nAnimationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: AnimationService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: AnimationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.AnimationBuilder }]; } });\n\n/**\n * @hidden\n */\nconst packageMetadata = {\n    name: '@progress/kendo-angular-popup',\n    productName: 'Kendo UI for Angular',\n    productCodes: ['KENDOUIANGULAR', 'KENDOUICOMPLETE'],\n    publishDate: 1720607721,\n    version: '16.4.0',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning'\n};\n\nconst DEFAULT_OFFSET = { left: -10000, top: 0 };\nconst ANIMATION_CONTAINER = 'k-animation-container';\nconst ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\nclass PopupComponent {\n    constructor(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n        this.container = container;\n        this._alignService = _alignService;\n        this.domService = domService;\n        this._positionService = _positionService;\n        this._resizeService = _resizeService;\n        this._scrollableService = _scrollableService;\n        this.animationService = animationService;\n        this._renderer = _renderer;\n        this._zone = _zone;\n        /**\n         * Controls the Popup animation. By default, the opening and closing animations\n         * are enabled ([see example]({% slug animations_popup %})).\n         */\n        this.animate = true;\n        /**\n         * Specifies the anchor pivot point\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.anchorAlign = { horizontal: 'left', vertical: 'bottom' };\n        /**\n         * Configures the collision behavior of the Popup\n         * ([see example]({% slug viewportboundarydetection_popup %})).\n         */\n        this.collision = { horizontal: 'fit', vertical: 'flip' };\n        /**\n         * Specifies the pivot point of the Popup\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.popupAlign = { horizontal: 'left', vertical: 'top' };\n        /**\n         * Controls whether the component will copy the `anchor` font styles.\n         */\n        this.copyAnchorStyles = false;\n        /**\n         * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n         * To make the Popup acquire absolute positioning, set this option to `absolute`.\n         *\n         * > If you need to support mobile browsers with the zoom option,\n         * use the `absolute` positioning of the Popup.\n         *\n         * @example\n         * ```html\n         * <style>\n         *  .parent-content {\n         *     position: relative;\n         *     width: 200px;\n         *     height: 200px;\n         *     overflow: auto;\n         *     margin: 200px auto;\n         *     border: 1px solid red;\n         *  }\n         *  .content {\n         *     position: relative;\n         *     width: 100px;\n         *     height: 100px;\n         *     overflow: auto;\n         *     margin: 300px;\n         *     border: 1px solid blue;\n         *  }\n         *  .anchor {\n         *     position: absolute;\n         *     top: 200px;\n         *     left: 200px;\n         *  }\n         * </style>\n         * ```\n         * ```ts\n         * _@Component({\n         * selector: 'my-app',\n         * template: `\n         *   <div class=\"example-config\">\n         *      Position mode:\n         *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n         *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n         *   </div>\n         *   <div class=\"example-config\">\n         *       Append to\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n         *           Root component\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n         *           <span [style.color]=\"'red'\">Red Container</span>\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n         *           <span [style.color]=\"'blue'\">Blue Container</span>\n         *       </label>\n         *   </div>\n         *   <div class=\"example\">\n         *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n         *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n         *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n         *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n         *             <ul>\n         *                 <li>Item1</li>\n         *                 <li>Item2</li>\n         *                 <li>Item3</li>\n         *             </ul>\n         *           </kendo-popup>\n         *           <span [style.position]=\"'absolute'\" [style.top.px]=\"400\" [style.left.px]=\"400\">Bottom/Right</span>\n         *         </div>\n         *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n         *           <ul>\n         *               <li>Item1</li>\n         *               <li>Item2</li>\n         *               <li>Item3</li>\n         *           </ul>\n         *         </kendo-popup>\n         *         <span [style.position]=\"'absolute'\" [style.top.px]=\"600\" [style.left.px]=\"600\">Bottom/Right</span>\n         *     </div>\n         *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n         *       <ul>\n         *           <li>Item1</li>\n         *           <li>Item2</li>\n         *           <li>Item3</li>\n         *       </ul>\n         *     </kendo-popup>\n         *   </div>\n         * `\n         * })\n         * class AppComponent {\n         *   public checked: number = 3;\n         *   public mode: string = 'absolute';\n         *   public show: boolean = true;\n         * }\n         * ```\n         */\n        this.positionMode = 'fixed';\n        /**\n         * Specifies the absolute position of the element\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n         * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n         * The boundary detection is applied by using the window viewport.\n         */\n        this.offset = DEFAULT_OFFSET;\n        /**\n         * Fires when the anchor is scrolled outside the screen boundaries.\n         * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n         */\n        this.anchorViewportLeave = new EventEmitter();\n        /**\n         * Fires after the component is closed.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires after the component is opened and the opening animation ends.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires after the component is opened and the Popup is positioned.\n         */\n        this.positionChange = new EventEmitter();\n        this.resolvedPromise = Promise.resolve(null);\n        this.initialCheck = true;\n        validatePackage(packageMetadata);\n        this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n        this.updateFixedClass();\n    }\n    ngOnInit() {\n        this.reposition = this.reposition.bind(this);\n        this._resizeService.subscribe(this.reposition);\n        this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n        this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n        this._scrollableService.forElement(this.domService.nativeElement(this.anchor) || this.container.nativeElement).subscribe(this.onScroll.bind(this));\n        this.currentOffset = DEFAULT_OFFSET;\n        this.setZIndex();\n        this.copyFontStyles();\n        this.updateFixedClass();\n        this.reposition();\n    }\n    ngOnChanges(changes) {\n        if (changes.copyAnchorStyles) {\n            this.copyFontStyles();\n        }\n        if (changes.positionMode) {\n            this.updateFixedClass();\n        }\n    }\n    ngAfterViewInit() {\n        if (!this.animate) {\n            this.resolvedPromise.then(() => {\n                this.onAnimationEnd();\n            });\n        }\n        this.reposition();\n    }\n    ngAfterViewChecked() {\n        if (this.initialCheck) {\n            this.initialCheck = false;\n            return;\n        }\n        this._zone.runOutsideAngular(() => {\n            // workarounds https://github.com/angular/angular/issues/19094\n            // uses promise because it is executed synchronously after the content is updated\n            // does not use onStable in case the current zone is not the angular one.\n            this.unsubscribeReposition();\n            this.repositionSubscription = from(this.resolvedPromise)\n                .subscribe(this.reposition);\n        });\n    }\n    ngOnDestroy() {\n        this.anchorViewportLeave.complete();\n        this.positionChange.complete();\n        this.close.emit();\n        this.close.complete();\n        this._resizeService.unsubscribe();\n        this._scrollableService.unsubscribe();\n        this.animationSubscriptions.unsubscribe();\n        this.unsubscribeReposition();\n    }\n    /**\n     * @hidden\n     */\n    onResize() {\n        this.reposition();\n    }\n    onAnimationStart() {\n        this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n    }\n    onAnimationEnd() {\n        this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n        this.open.emit();\n        this.open.complete();\n    }\n    get currentOffset() {\n        return this._currentOffset;\n    }\n    set currentOffset(offset) {\n        this.setContainerStyle('left', `${offset.left}px`);\n        this.setContainerStyle('top', `${offset.top}px`);\n        this._currentOffset = offset;\n    }\n    setZIndex() {\n        if (this.anchor) {\n            this.setContainerStyle('z-index', String(this.domService.zIndex(this.domService.nativeElement(this.anchor), this.container)));\n        }\n    }\n    reposition() {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        const { flip, offset } = this.position();\n        if (!this.currentOffset || isDifferentOffset(this.currentOffset, offset)) {\n            this.currentOffset = offset;\n            if (hasObservers(this.positionChange)) {\n                this._zone.run(() => this.positionChange.emit({ offset, flip }));\n            }\n        }\n        if (this.animate) {\n            this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n        }\n        this.resizeSensor.acceptSize();\n    }\n    position() {\n        const alignedOffset = this._alignService.alignElement({\n            anchor: this.domService.nativeElement(this.anchor),\n            anchorAlign: this.anchorAlign,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin,\n            offset: this.offset,\n            positionMode: this.positionMode\n        });\n        return this._positionService.positionElement({\n            anchor: this.domService.nativeElement(this.anchor),\n            anchorAlign: this.anchorAlign,\n            collisions: this.collision,\n            currentLocation: alignedOffset,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin\n        });\n    }\n    onScroll(isInViewPort) {\n        const hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n        if (isInViewPort || !hasLeaveObservers) {\n            this.reposition();\n        }\n        else if (hasLeaveObservers) {\n            this._zone.run(() => {\n                this.anchorViewportLeave.emit();\n            });\n        }\n    }\n    copyFontStyles() {\n        if (!this.anchor || !this.copyAnchorStyles) {\n            return;\n        }\n        this.domService.getFontStyles(this.domService.nativeElement(this.anchor))\n            .forEach((s) => this.setContainerStyle(s.key, s.value));\n    }\n    updateFixedClass() {\n        const action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n        this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n    }\n    setContainerStyle(name, value) {\n        this._renderer.setStyle(this.container.nativeElement, name, value);\n    }\n    unsubscribeReposition() {\n        if (this.repositionSubscription) {\n            this.repositionSubscription.unsubscribe();\n        }\n    }\n}\nPopupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupComponent, deps: [{ token: i0.ElementRef }, { token: AlignService }, { token: DOMService }, { token: PositionService }, { token: ResizeService }, { token: ScrollableService }, { token: AnimationService }, { token: i0.Renderer2 }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nPopupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.2.10\", type: PopupComponent, selector: \"kendo-popup\", inputs: { animate: \"animate\", anchor: \"anchor\", anchorAlign: \"anchorAlign\", collision: \"collision\", popupAlign: \"popupAlign\", copyAnchorStyles: \"copyAnchorStyles\", popupClass: \"popupClass\", positionMode: \"positionMode\", offset: \"offset\", margin: \"margin\" }, outputs: { anchorViewportLeave: \"anchorViewportLeave\", close: \"close\", open: \"open\", positionChange: \"positionChange\" }, providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService], viewQueries: [{ propertyName: \"contentContainer\", first: true, predicate: [\"container\"], descendants: true, static: true }, { propertyName: \"resizeSensor\", first: true, predicate: ResizeSensorComponent, descendants: true, static: true }], exportAs: [\"kendo-popup\"], usesOnChanges: true, ngImport: i0, template: `\n        <div class=\"k-child-animation-container\">\n            <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n                <ng-content></ng-content>\n                <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n                <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n                </kendo-resize-sensor>\n            </div>\n        </div>\n     `, isInline: true, dependencies: [{ kind: \"directive\", type: i7.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i7.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i7.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\", \"ngTemplateOutletInjector\"] }, { kind: \"component\", type: i8.ResizeSensorComponent, selector: \"kendo-resize-sensor\", inputs: [\"rateLimit\"], outputs: [\"resize\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupComponent, decorators: [{\n            type: Component,\n            args: [{\n                    exportAs: 'kendo-popup',\n                    providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n                    selector: 'kendo-popup',\n                    template: `\n        <div class=\"k-child-animation-container\">\n            <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n                <ng-content></ng-content>\n                <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n                <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n                </kendo-resize-sensor>\n            </div>\n        </div>\n     `\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: AlignService }, { type: DOMService }, { type: PositionService }, { type: ResizeService }, { type: ScrollableService }, { type: AnimationService }, { type: i0.Renderer2 }, { type: i0.NgZone }]; }, propDecorators: { animate: [{\n                type: Input\n            }], anchor: [{\n                type: Input\n            }], anchorAlign: [{\n                type: Input\n            }], collision: [{\n                type: Input\n            }], popupAlign: [{\n                type: Input\n            }], copyAnchorStyles: [{\n                type: Input\n            }], popupClass: [{\n                type: Input\n            }], positionMode: [{\n                type: Input\n            }], offset: [{\n                type: Input\n            }], margin: [{\n                type: Input\n            }], anchorViewportLeave: [{\n                type: Output\n            }], close: [{\n                type: Output\n            }], open: [{\n                type: Output\n            }], positionChange: [{\n                type: Output\n            }], contentContainer: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }], resizeSensor: [{\n                type: ViewChild,\n                args: [ResizeSensorComponent, { static: true }]\n            }] } });\n\nconst removeElement = (element) => {\n    if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\nconst POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\nclass PopupService {\n    constructor(applicationRef, componentFactoryResolver, injector, container) {\n        this.applicationRef = applicationRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.injector = injector;\n        this.container = container;\n    }\n    /**\n     * Gets the root view container into which the component will be injected.\n     *\n     * @returns {ComponentRef<any>}\n     */\n    get rootViewContainer() {\n        // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n        const rootComponents = this.applicationRef.components || [];\n        if (rootComponents[0]) {\n            return rootComponents[0];\n        }\n        throw new Error(`\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        `);\n    }\n    /**\n     * Sets or gets the HTML element of the root component container.\n     *\n     * @returns {HTMLElement}\n     */\n    get rootViewContainerNode() {\n        return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n    }\n    /**\n     * Opens a Popup component. Created Popups are mounted\n     * in the DOM directly in the root application component.\n     *\n     * @param {PopupSettings} options - The options which define the Popup.\n     * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n     *\n     * @example\n     *\n     * ```ts-no-run\n     * _@Component({\n     *   selector: 'my-app',\n     *   template: `\n     *     <ng-template #template>\n     *      Popup content\n     *     </ng-template>\n     *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n     *   `\n     * })\n     * export class AppComponent {\n     *     public popupRef: PopupRef;\n     *\n     *     constructor( private popupService: PopupService ) {}\n     *\n     *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n     *         if (this.popupRef) {\n     *              this.popupRef.close();\n     *              this.popupRef = null;\n     *              return;\n     *         }\n     *\n     *         this.popupRef = this.popupService.open({\n     *           anchor: anchor,\n     *           content: template\n     *         });\n     *     }\n     * }\n     * ```\n     */\n    open(options = {}) {\n        const { component, nodes } = this.contentFrom(options.content);\n        const popupComponentRef = this.appendPopup(nodes, options.appendTo);\n        const popupInstance = popupComponentRef.instance;\n        this.projectComponentInputs(popupComponentRef, options);\n        popupComponentRef.changeDetectorRef.detectChanges();\n        if (component) {\n            component.changeDetectorRef.detectChanges();\n        }\n        const popupElement = this.getComponentRootNode(popupComponentRef);\n        return {\n            close: () => {\n                if (component) {\n                    component.destroy();\n                }\n                popupComponentRef.destroy();\n                // Angular will not remove the element unless the change detection is triggered\n                removeElement(popupElement);\n            },\n            content: component,\n            popup: popupComponentRef,\n            popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n            popupClose: popupInstance.close,\n            popupElement: popupElement,\n            popupOpen: popupInstance.open,\n            popupPositionChange: popupInstance.positionChange\n        };\n    }\n    appendPopup(nodes, container) {\n        const popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n        if (!container) {\n            this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n        }\n        return popupComponentRef;\n    }\n    /**\n     * Gets the HTML element for a component reference.\n     *\n     * @param {ComponentRef<any>} componentRef\n     * @returns {HTMLElement}\n     */\n    getComponentRootNode(componentRef) {\n        return componentRef.location.nativeElement;\n    }\n    /**\n     * Gets the `ComponentFactory` instance by its type.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    getComponentFactory(componentClass) {\n        return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n    }\n    /**\n     * Creates a component reference from a `Component` type class.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    createComponent(componentClass, nodes, container) {\n        const factory = this.getComponentFactory(componentClass);\n        if (container) {\n            return container.createComponent(factory, undefined, this.injector, nodes);\n        }\n        else {\n            const component = factory.create(this.injector, nodes);\n            this.applicationRef.attachView(component.hostView);\n            return component;\n        }\n    }\n    /**\n     * Projects the inputs on the component.\n     *\n     * @param {ComponentRef<any>} component\n     * @param {*} options\n     * @returns {ComponentRef<any>}\n     */\n    projectComponentInputs(component, options) {\n        Object.getOwnPropertyNames(options)\n            .filter(prop => prop !== 'content' || options.content instanceof TemplateRef)\n            .map((prop) => {\n            component.instance[prop] = options[prop];\n        });\n        return component;\n    }\n    /**\n     * Gets the component and the nodes to append from the `content` option.\n     *\n     * @param {*} content\n     * @returns {any}\n     */\n    contentFrom(content) {\n        if (!content || content instanceof TemplateRef) {\n            return { component: null, nodes: [[]] };\n        }\n        const component = this.createComponent(content);\n        const nodes = component ? [component.location.nativeElement] : [];\n        return {\n            component: component,\n            nodes: [\n                nodes // <ng-content>\n            ]\n        };\n    }\n}\nPopupService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupService, deps: [{ token: i0.ApplicationRef }, { token: i0.ComponentFactoryResolver }, { token: i0.Injector }, { token: POPUP_CONTAINER, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPopupService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.ApplicationRef }, { type: i0.ComponentFactoryResolver }, { type: i0.Injector }, { type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [POPUP_CONTAINER]\n                }, {\n                    type: Optional\n                }] }]; } });\n\nconst POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule](link:site.data.urls.angular['ngmoduleapi'])\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\nclass PopupModule {\n}\nPopupModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPopupModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupModule, declarations: [PopupComponent], imports: [CommonModule, ResizeSensorModule], exports: [PopupComponent] });\nPopupModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupModule, providers: [PopupService], imports: [CommonModule, ResizeSensorModule] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.2.10\", ngImport: i0, type: PopupModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [POPUP_DIRECTIVES],\n                    entryComponents: [POPUP_DIRECTIVES],\n                    exports: [POPUP_DIRECTIVES],\n                    imports: [CommonModule, ResizeSensorModule],\n                    providers: [PopupService]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { POPUP_CONTAINER, PopupComponent, PopupModule, PopupService, SCALE };\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}